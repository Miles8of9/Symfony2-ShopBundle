services:
  request:
    synthetic:                      true
  basket:
    class:                          n3b\Bundle\Shop\Service\Basket
    arguments:
      services:
        em:                         '@doctrine.orm.entity_manager'
        templating:                 '@templating'
        router:                     '@router'
        sc:                         '@security.context'
  container:
    class:                          n3b\Bundle\Shop\Service\Container
    arguments:
      params: []
  catalog:
    class:                          n3b\Bundle\Shop\Service\Catalog
    arguments:
      services:
        em:                         '@doctrine.orm.entity_manager'
        templating:                 '@templating'
        security:                   '@security.context'
        router:                     '@router'
        http_kernel:                '@http_kernel'
        sc:                         '@security.context'
  customer:
    class:                          n3b\Bundle\Shop\Service\Customer
    arguments:
      services:
        em:                         '@doctrine.orm.entity_manager'
        templating:                 '@templating'
        router:                     '@router'
        http_kernel:                '@http_kernel'
        request:                    '@request'
        sc:                         '@security.context'
  checkout:
    class:                          n3b\Bundle\Shop\Service\Checkout
    arguments:
      services:
        em:                         '@doctrine.orm.entity_manager'
        templating:                 '@templating'
        router:                     '@router'
        http_kernel:                '@http_kernel'
        ff:                         '@form.factory'
        request:                    '@request'
        basket:                     '@basket'
        sc:                         '@security.context'
  event_listener:
    class:                          n3b\Bundle\Shop\Event\EventListener
    arguments:
      services:
        basket:                     '@basket'
    tags:
      - { name: kernel.listener, event: core.request, method: onCoreRequest }
      - { name: kernel.listener, event: core.response, method: onCoreResponse }